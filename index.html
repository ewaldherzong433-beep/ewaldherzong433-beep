<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
    <title>ANTHA</title>
    <link rel="icon" href="Icon_sprkl.png" type="image/png">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800;900&display=swap"
        rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;500;600&display=swap" rel="stylesheet">
    <!-- Swiper CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@9/swiper-bundle.min.css">
    <link rel="stylesheet" href="./style.css?v=1.0.1">

</head>

<body>
    <!-- Header -->
    <header>
        <div class="container">
            <!-- Desktop Header (shown on larger screens) -->
            <div class="header-container desktop-header">
                <div class="header-nav logo">
                    <a href="./index.html" class="header-logo">ATHNA</a>
                </div>
                <div class="header-nav">
                    <a href="./index.html" class="nav-link">Home</a>
                </div>
                <div class="header-nav">
                    <a href="./index.html#about-us-section" class="nav-link">About</a>
                </div>
                <div class="header-nav">
                    <a href="./index.html#highlight" class="nav-link">Highlight</a>
                </div>
                <div class="header-nav">
                    <a href="./index.html#shop" class="nav-link">Category</a>
                </div>
                <div class="header-nav">
                    <a href="#contact" class="nav-link">Contact</a>
                </div>
            </div>

            <!-- Mobile Header (shown on smaller screens) -->
            <div class="mobile-header">
                <button class="hamburger-menu" id="hamburger-menu">
                    <i class="fas fa-bars"></i>
                </button>
                <a href="./index.html" class="header-logo">ATHNA</a>
                <button class="hamburger-menu hidden">
                    <i class="fas fa-bars"></i>
                </button>
            </div>
        </div>
    </header>

    <!-- Mobile Navigation Menu -->
    <div class="mobile-nav" id="mobile-nav">
        <button class="mobile-nav-close" id="mobile-nav-close">
            <i class="fas fa-times"></i>
        </button>
        <ul class="mobile-nav-links">
            <li><a href="./index.html"><i class="fas "></i> Home</a></li>
            <li><a href="./index.html#shop"><i class="fas "></i> Category</a></li>
            <li><a href="#contact"></i> Contact Us</a></li>
        </ul>
    </div>
    <!-- Overlay for mobile menu -->
    <div class="overlay" id="overlay"></div>


    <!-- Hero Section with 3 texts and 1 button -->
    <section class="hero" id="slideshow" aria-label="Homepage slideshow">
        <div class="hero-bg hero-bg--a" aria-hidden="true"></div>
        <div class="hero-bg hero-bg--b" aria-hidden="true"></div>

        <div class="container squish-container hero-content">
            <span class="hero-title"> ATHNA</span>
            <a href="./index.html#shop">
                <button class="btn hero-btn-pos hero-btn" style="filter: none;">Explore Now</button>
            </a>
        </div>

        <script>
            (function () {
                const images = [
                    './img/ASSEET/LandingPage/1.webp',
                    './img/ASSEET/LandingPage/2.webp',
                    './img/ASSEET/LandingPage/3.webp',
                    './img/ASSEET/LandingPage/4.webp',
                    './img/ASSEET/LandingPage/5.webp',
                    './img/ASSEET/LandingPage/6.webp'
                ];

                const hero = document.getElementById('slideshow');
                const layerA = hero.querySelector('.hero-bg--a');
                const layerB = hero.querySelector('.hero-bg--b');
                let visible = layerA;
                let currentIndex = 0;
                let intervalId = null;

                // Preload + decode images for smoother transitions
                function preloadAll() {
                    return Promise.all(images.map(src => {
                        const img = new Image();
                        img.src = src;
                        return img.decode ? img.decode().catch(() => { }) : Promise.resolve();
                    }));
                }

                function setBg(el, src) {
                    el.style.backgroundImage = 'url(' + src + ')';
                }

                function crossfadeTo(nextIndex) {
                    const incoming = (visible === layerA) ? layerB : layerA;
                    setBg(incoming, images[nextIndex]);
                    incoming.classList.add('visible');
                    visible.classList.remove('visible');
                    visible = incoming;
                    currentIndex = nextIndex;
                }

                async function startSlideshow() {
                    setBg(layerA, images[0]);
                    layerA.classList.add('visible');

                    // decode in background (don't block page paint)
                    preloadAll().catch(() => { });

                    intervalId = setInterval(() => {
                        const next = (currentIndex + 1) % images.length;
                        crossfadeTo(next);
                    }, 3500);
                }

                if (document.readyState === 'loading') {
                    document.addEventListener('DOMContentLoaded', startSlideshow);
                } else {
                    startSlideshow();
                }
            })();
        </script>
    </section>

    <!-- About Us Section -->
    <section class="container about-us" id="about-us-section">

        <div class="about-picture">
            <img src="./img/ASSEET/about2.webp">
            <div class="about-tag">Elevate your everyday wear</div>
        </div>
        <div class="about-content" id="about-us">
            <div class="section-title line" id="about-us-title">
                <h2>Who We Are</h2>
            </div>
            <div class="about-content-text">
                <p>At ATHNA, we curate premium-inspired sport and casual wear designed for modern movement and refined
                    everyday style. Each collection is thoughtfully selected to elevate your wardrobe while delivering
                    personalized care. ATHNA is where comfort meets confidence, and individuality moves with purpose
                    through timeless design and effortless expression.</p>
            </div>
        </div>
    </section>


    <!-- Highlight Section with Card Swiper -->
    <section class="highlight line" id="highlight">
        <div class="container">
            <div class="section-title High-tit invert">
                <h2>Limited Drop</h2>
            </div>
            <!-- Swiper Slider -->
            <div class="swiper">
                <div class="swiper-wrapper">
                    <!-- Card 1 -->
                    <div class="swiper-slide" onclick="showProductPopup(56)">
                        <div class="trending-card">
                            <div class="card-img-container">
                                <img src="./img/ASSEET/Highlight/7.webp" class="card-img">
                            </div>
                        </div>
                    </div>
                    <!-- Card 2 -->
                    <div class="swiper-slide" onclick="showProductPopup(154)">
                        <div class="trending-card">
                            <div class="card-img-container">
                                <img src="./img/ASSEET/Highlight/8.webp" class="card-img">
                            </div>
                        </div>
                    </div>
                    <!-- Card 3 -->
                    <div class="swiper-slide" onclick="showProductPopup(184)">
                        <div class="trending-card">
                            <div class="card-img-container">
                                <img src="./img/ASSEET/Highlight/9.webp" class="card-img">
                            </div>
                        </div>
                    </div>

                    <div class="swiper-slide" onclick="showProductPopup(56)">
                        <div class="trending-card">
                            <div class="card-img-container">
                                <img src="./img/ASSEET/Highlight/7.webp" class="card-img">
                            </div>
                        </div>
                    </div>

                    <div class="swiper-slide" onclick="showProductPopup(154)">
                        <div class="trending-card">
                            <div class="card-img-container">
                                <img src="./img/ASSEET/Highlight/8.webp" class="card-img">
                            </div>
                        </div>
                    </div>


                    <div class="swiper-slide" onclick="showProductPopup(184)">
                        <div class="trending-card">
                            <div class="card-img-container">
                                <img src="./img/ASSEET/Highlight/9.webp" class="card-img">
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- Navigation buttons -->
            <div class="swiper-button-next"></div>
            <div class="swiper-button-prev"></div>
            <!-- Pagination dots -->
            <div class="swiper-pagination"></div>
        </div>
    </section>
    <!--// Check if autoplay is running
    swiper.autoplay.running

    // Stop autoplay
    swiper.autoplay.stop()

    // Start autoplay
    swiper.autoplay.start()-->


    <!-- Shop Category Section with Bento Box Display -->
    <section class="shop-category-index" id="shop">
        <div class="">
            <div class="category-header">
                <div class="section-title category-title">
                    <h2>Shop by Category</h2>

                </div>
                <div class="category-dropdown">
                    <button class="dropdown-btn" id="categoryDropdownBtn"> <!-- Add this ID -->
                        All Categories
                        <span class="dropdown-arrow">▼</span>
                    </button>
                    <div class="dropdown-menu" id="categoryDropdownMenu"> <!-- Add this ID -->
                        <a href="./Products.html?category=Women casualwear" class="dropdown-item">Casualwear Women
                            Collection</a>
                        <a href="./Products.html?category=Women Sportwear" class="dropdown-item">Sportwear Women
                            Collection</a>
                        <a href="./Products.html?category=Men Sportswear" class="dropdown-item">Sportwear Man
                            Collection</a>
                        <a href="./Products.html?category=Caps%20%26%20Hats" class="dropdown-item">Caps & Hats
                            Collection</a>
                        <a href="./Products.html?category=Accessories" class="dropdown-item">Accessories Collection</a>
                    </div>
                </div>
            </div>
    </section>

    <!-- product landing Section (generated) -->
    <div id="product-landing-container"></div>

    <script>
        // Safe call wrapper: queue popup request if shop-popup hasn't initialized yet
        function safeShowProductPopup(id) {
            if (typeof showProductPopup === 'function') {
                showProductPopup(id);
            } else {
                window._pendingProductPopup = id;
            }
        }

        document.addEventListener('DOMContentLoaded', () => {
            if (window._pendingProductPopup && typeof showProductPopup === 'function') {
                showProductPopup(window._pendingProductPopup);
                window._pendingProductPopup = null;
            }
        });

        (function () {
            const categories = [
                { key: 'Women casualwear', title: 'Casualwear Women', id: 'casualwear-slider', query: 'Women%20casualwear' },
                { key: 'Women Sportwear', title: 'Sportwear Women', id: 'Sportwear-slider', query: 'Women%20Sportwear' },
                { key: 'Men Sportswear', title: 'Sportswear Men', id: 'sportswearMan-slider', query: 'Men%20Sportswear' },
                { key: 'Caps & Hats', title: 'Caps & Hats', id: 'CapsHats-slider', query: 'Caps%20%26%20Hats' },
                { key: 'Accessories', title: 'Accessories', id: 'accessories-slider', query: 'Accessories' }
            ];

            function fmtPrice(p) {
                if (p === undefined || p === null) return '';
                return 'Rp ' + Math.round(p).toLocaleString();
            }

            fetch('./products.json')
                .then(r => r.json())
                .then(products => {
                    const container = document.getElementById('product-landing-container');
                    categories.forEach(cat => {
                        const items = products.filter(p => p.category === cat.key).slice(0, 8);
                        if (items.length === 0) return;
                        const section = document.createElement('section');
                        section.className = 'prod-land';
                        section.innerHTML = `
              <div class="prod-land-tit"><h2>${cat.title}</h2></div>
              <div class="cards-slider-container" id="${cat.id}">
                <div class="cards-wrapper">
                  ${items.map(item => `
                    <div class="product-card" onclick="safeShowProductPopup(${item.id})" data-id="${item.id}" role="button" tabindex="0">
                      <img class="main-image" src="${item.images && item.images[0] ? item.images[0] : 'https://via.placeholder.com/400x500?text=No+image'}" alt="${item.name}">
                      <div class="card-content">
                        <h3>${item.name}</h3>
                        <p class="price">${fmtPrice(item.price)}</p>
                      </div>
                    </div>
                  `).join('')}
                </div>
                <button class="slider-arrow prev-arrow">‹</button>
                <button class="slider-arrow next-arrow">›</button>
              </div>
              
              <a class="otw-cat" href="./Products.html?category=${cat.query}">See More Collection</a>
            `;
                        container.appendChild(section);
                    });

                    // initialize any new sliders in case slider.js already ran
                    function initNewSliders() {
                        const nodes = document.querySelectorAll('.cards-slider-container[id]');
                        nodes.forEach(containerEl => {
                            const id = containerEl.id;
                            if (!id) return;
                            window.sliders = window.sliders || {};
                            if (window.sliders[id]) return;
                            if (typeof CardSlider === 'function') {
                                window.sliders[id] = new CardSlider(id);
                                window.sliders[id].options.autoSlide = true;
                                window.sliders[id].options.slideInterval = 4000;
                                
                            }
                        });
                    }
                    setTimeout(initNewSliders, 100);
                    window.addEventListener('load', initNewSliders);

                    // Accessibility: open popup when focused card is activated via Enter or Space
                    document.addEventListener('keydown', (e) => {
                        const active = document.activeElement;
                        if (!active || !active.classList) return;
                        if (!active.classList.contains('product-card')) return;
                        if (e.key === 'Enter' || e.key === ' ') {
                            e.preventDefault();
                            const id = active.dataset.id;
                            if (id) showProductPopup(id);
                        }
                    });
                })
                .catch(err => console.error('Failed to load products.json', err));
        })();
    </script>




    <script src="slider.js"></script>
    <script>
        // Enable autoplay for product sliders and set interval
        document.addEventListener('DOMContentLoaded', () => {
            if (window.sliders) {
                Object.values(window.sliders).forEach(s => {
                    s.options.autoSlide = true;
                    s.options.slideInterval = 4000;
                    s.startAutoSlide();
                });
            }
        });
    </script>

    <!--cat-btn-bot-->
    <section class="concat">
        <a href="./Products.html?category=Women casualwear" class=" cat-btn-bot">Casualwear Women Collection</a>
        <a href="./Products.html?category=Women Sportwear" class=" cat-btn-bot">Sportwear Women Collection</a>
        <a href="./Products.html?category=Men Sportswear" class=" cat-btn-bot">Sportswear Men Collection</a>
        <a href="./Products.html?category=Caps%20%26%20Hats" class=" cat-btn-bot">Caps & Hats Collection</a>
        <a href="./Products.html?category=Accessories" class=" cat-btn-bot">Accessories Collection</a>
    </section>



    <!-- Contact Us Section -->
    <section class="contact" id="contact">
        <div class="container">

            <div class="contact-container">
                <div class="section-title section-title-center">
                    <h2 class="map-description">Visit Our Store</h2>
                </div>
                <div class="contact-maps">
                    <div class="map-item">
                        <a href="https://maps.app.goo.gl/tbqe4vxBNfmpuazx9">
                            <img src="./img/ASSEET/map.webp" alt="Contact Us" class="contact-img"></a>
                        <div class="map-description">
                            <h4>ATHNA STORE</h4>
                            <p>Jl. Pantai Berawa, Tibubeneng, Kec. Kuta Utara, Kabupaten Badung, Bali 80361</p>
                        </div>
                    </div>
                </div>
                <div class="contact-info">

                    <div class="contact-item">
                        <a href="https://www.instagram.com/athna1111" style="display: flex;
        align-items: flex-start;">
                            <div class="contact-icon">
                                <i class="fab fa-instagram" style="color: #C13584;"></i>
                            </div>
                            <div class="contact-details">
                                <h4>Instagram</h4>
                                <p>@athna1111<br>Follow us for latest trends</p>
                            </div>
                        </a>
                    </div>
                    <div class="contact-item">
                        <a href="https://wa.me/6287864853508" style="display: flex;
        align-items: flex-start;">
                            <div class="contact-icon">
                                <i class="fab fa-whatsapp" style="color:#128C7E;"></i>
                            </div>
                            <div class="contact-details">
                                <h4>WhatsApp</h4>
                                <p>+62 878‑6485‑3508 230<br>Chat to order our Products</p>
                            </div>
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer>
        <div class="container">
            <div class="header-container desktop-header">
                <div class="header-nav">
                    <a href="./index.html" class="nav-link">Home</a>
                </div>
                <div class="header-nav">
                    <a href="./index.html#about-us-section" class="nav-link">About</a>
                </div>
                <div class="header-nav">
                    <a href="./index.html#highlight" class="nav-link">Highlight</a>
                </div>
                <div class="header-nav">
                    <a href="./index.html#shop" class="nav-link">Category</a>
                </div>
                <div class="header-nav">
                    <a href="#contact" class="nav-link">Contact</a>
                </div>
            </div>
            <div class="copyright">
                <p>Copyright &copy; ATHNA</p>
            </div>
        </div>
    </footer>

    <!-- Event Popup Modal -->
    <div class="event-popup" id="event-popup">
        <div class="event-popup-content">
            <button class="event-popup-close" id="event-popup-close">
                <i class="fas fa-times"></i>
            </button>
            <div class="event-popup-image">
                <img src="./img/event/1.webp" alt="Special Event" class="event-img">
            </div>
            <!-- Removed all text content: event-popup-text div -->
        </div>
    </div>
    <!-- Event Popup privacy policy -->

    <div class="privacy-modal-overlay" id="privacy-modal-overlay"></div>

    <!-- Add the overlay back since your CSS references it -->
    <div class="event-popup-overlay" id="event-popup-overlay"></div>

    <!-- Swiper JS -->
    <script src="https://cdn.jsdelivr.net/npm/swiper@9/swiper-bundle.min.js"></script>

    <script>
        // Mobile menu functionality
        const hamburgerMenu = document.getElementById('hamburger-menu');
        const mobileNav = document.getElementById('mobile-nav');
        const mobileNavClose = document.getElementById('mobile-nav-close');
        const overlay = document.getElementById('overlay');

        // Open mobile menu
        hamburgerMenu.addEventListener('click', () => {
            mobileNav.classList.add('active');
            overlay.classList.add('active');
            document.body.style.overflow = 'hidden'; // Prevent scrolling
        });

        // Close mobile menu
        function closeMobileMenu() {
            mobileNav.classList.remove('active');
            overlay.classList.remove('active');
            document.body.style.overflow = 'auto'; // Re-enable scrolling
        }

        mobileNavClose.addEventListener('click', closeMobileMenu);
        overlay.addEventListener('click', closeMobileMenu);

        // Close menu when clicking on a link
        const mobileNavLinks = document.querySelectorAll('.mobile-nav-links a');
        mobileNavLinks.forEach(link => {
            link.addEventListener('click', closeMobileMenu);
        });

        // Close menu with Escape key
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape' && mobileNav.classList.contains('active')) {
                closeMobileMenu();
            }
        });

        // Swiper initialization
        const swiper = new Swiper('.swiper', {
            // Navigation arrows
            navigation: {
                nextEl: '.swiper-button-next',
                prevEl: '.swiper-button-prev',
            },
            // Pagination dots
            pagination: {
                el: '.swiper-pagination',
                clickable: true,
            },
            // Default parameters
            slidesPerView: 3,
            loop: true,
            spaceBetween: 20,
            centeredSlides: true,
            // Responsive breakpoints
           
            // Optional: Enable autoplay
            autoplay: {
                delay: 4000,
                disableOnInteraction: false,
            },
        });

        //event popup.js
        // Get DOM elements
        const eventPopup = document.getElementById('event-popup');
        const eventPopupClose = document.getElementById('event-popup-close');
        const eventPopupOverlay = document.getElementById('event-popup-overlay'); // Added this

        // Remove the eventPopupCloseBtn reference since we removed that button
        // const eventPopupCloseBtn = document.getElementById('event-popup-close-btn');

        // Function to show event popup
        function showEventPopup() {
            // Show popup after 1 second delay
            setTimeout(() => {
                eventPopup.classList.add('active');
                eventPopupOverlay.classList.add('active');
                document.body.style.overflow = 'hidden'; // Prevent scrolling
            }, 2000);
        }

        // Function to close event popup
        function closeEventPopup() {
            eventPopup.classList.remove('active');
            eventPopupOverlay.classList.remove('active');
            document.body.style.overflow = 'auto'; // Re-enable scrolling

            // Store in localStorage that popup has been shown
            localStorage.setItem('eventPopupShown', 'true');
        }

        // Close popup when clicking close button or overlay
        eventPopupClose.addEventListener('click', closeEventPopup);
        eventPopupOverlay.addEventListener('click', closeEventPopup);

        // Close popup with Escape key
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape' && eventPopup.classList.contains('active')) {
                closeEventPopup();
            }
        });

        // Function to enable/disable popup
        function setPopupEnabled(isEnabled) {
            if (isEnabled) {
                // Enable popup - will show on page load
                localStorage.removeItem('eventPopupShown');
                localStorage.setItem('popupEnabled', 'true');
                console.log("Popup has been ENABLED");
            } else {
                // Disable popup - won't show on page load
                localStorage.setItem('eventPopupShown', 'true');
                localStorage.setItem('popupEnabled', 'false');
                console.log("Event Popup has been DISABLED");
            }
        }

        // Show popup on page load (check if it's enabled AND hasn't been shown before)
        window.addEventListener('load', () => {
            // Check if popup is enabled AND hasn't been shown before
            const popupEnabled = localStorage.getItem('popupEnabled') !== 'false';
            const popupShown = localStorage.getItem('eventPopupShown');

            if (popupEnabled && !popupShown) {
                showEventPopup();
            }
        });
        //on off pop    up
        //setPopupEnabled(true);
        setPopupEnabled(false);

    </script>
    <script src="shop-popup.js"></script>

    <script src="smooth-scroll.js"></script>
    <script>
        // Optional: Configure smooth scroll
        document.addEventListener('DOMContentLoaded', function () {
            if (window.SmoothScroll) {
                // Customize configuration if needed
                window.SmoothScroll.setConfig({
                    offset: 80, // Adjust based on your header height
                    duration: 800,
                    easing: 'easeInOutQuad',
                    debug: false // Set to true for debugging
                });

                // Re-initialize with custom config
                window.SmoothScroll.init({
                    preferCSS: true // Try CSS first, fallback to JS
                });
            }
        });
    </script>
    <script src="shop-category.js"></script>
</body>

</html>