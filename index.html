<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
    <title>ANTHA</title>
    <link rel="icon" href="Icon_sprkl.png" type="image/png">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800;900&display=swap"
        rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;500;600&display=swap" rel="stylesheet">
    <!-- Swiper CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@9/swiper-bundle.min.css">
    <link rel="stylesheet" href="style.css">

</head>

<body>
    <!-- Header -->
    <header>
        <div class="container">
            <!-- Desktop Header (shown on larger screens) -->
            <div class="header-container desktop-header">
                <div class="header-nav logo">
                    <a href="./index.html" class="header-logo">ATHNA</a>
                </div>
                <div class="header-nav">
                    <a href="./index.html" class="nav-link">Home</a>
                </div>
                <div class="header-nav">
                    <a href="./index.html#about" class="nav-link">About</a>
                </div>
                <div class="header-nav">
                    <a href="./index.html#highlight" class="nav-link">Highlight</a>
                </div>
                <div class="header-nav">
                    <a href="./index.html#shop" class="nav-link">Category</a>
                </div>
                <div class="header-nav">
                    <a href="#contact" class="nav-link">Contact</a>
                </div>
            </div>

            <!-- Mobile Header (shown on smaller screens) -->
            <div class="mobile-header">
                <button class="hamburger-menu" id="hamburger-menu">
                    <i class="fas fa-bars"></i>
                </button>
                <a href="./index.html" class="header-logo">ATHNA</a>
                <button class="hamburger-menu hidden">
                    <i class="fas fa-bars"></i>
                </button>
            </div>
        </div>
    </header>

    <!-- Mobile Navigation Menu -->
    <div class="mobile-nav" id="mobile-nav">
        <button class="mobile-nav-close" id="mobile-nav-close">
            <i class="fas fa-times"></i>
        </button>
        <ul class="mobile-nav-links">
            <li><a href="./index.html"><i class="fas "></i> Home</a></li>
            <li><a href="./index.html#shop"><i class="fas "></i> Category</a></li>
            <li><a href="#contact"></i> Contact Us</a></li>
        </ul>
    </div>
    <!-- Overlay for mobile menu -->
    <div class="overlay" id="overlay"></div>


    <!-- Hero Section with 3 texts and 1 button -->
    <section class="hero" id="slideshow">
        <div class="container squish-container">
            <span class="hero-title"> ANTHA</span>
            <a href="./index.html#shop">
                <button class="btn hero-btn-pos hero-btn">Explore Now</button>
            </a>
        </div>
        <script>
            const images = [
                './img/ASSEET/LandingPage/1.webp',
                './img/ASSEET/LandingPage/2.webp',
                './img/ASSEET/LandingPage/3.webp',
                './img/ASSEET/LandingPage/4.webp',
                './img/ASSEET/LandingPage/5.webp',
                './img/ASSEET/LandingPage/6.webp',
            ];
            let currentIndex = 0;
            const hero = document.getElementById("slideshow");

            // Preload images for smoother transitions
            const preloadedImages = [];
            images.forEach(src => {
                const img = new Image();
                img.src = src;
                preloadedImages.push(img);
            });

            function changeBackground() {
                hero.style.backgroundImage = `url(${images[currentIndex]})`;
                hero.style.opacity = 0; // Fade out

                setTimeout(() => {
                    hero.style.opacity = 1; // Fade in
                    currentIndex = (currentIndex + 1) % images.length;
                }, 100);
            }

            // Set initial image
            window.onload = () => {
                hero.style.backgroundImage = `url(${images[0]})`;
                hero.style.transition = 'background-image 1s ease-in-out, opacity 1s ease-in-out';
                setTimeout(() => setInterval(changeBackground, 3000), 1000);
            };
        </script>
    </section>

    <!-- About Us Section -->
    <section class="container about-us" id="about-us-section">
        <div class="about-picture">
            <img src="./img/cson/Rectangle 6.jpg">
        </div>
        <div class="about-content" id="about-us">
            <div class="section-title line" id="about-us-title">
                <h2>Who We Are</h2>
            </div>
            <div class="about-content-text">
                <p>At ATHNA, we curate premium-inspired sport and casual wear designed for modern movement and refined
                    everyday style. Each collection is thoughtfully selected to elevate your wardrobe while delivering
                    personalized care. ATHNA is where comfort meets confidence, and individuality moves with purpose
                    through timeless design and effortless expression.</p>
            </div>
        </div>
        <img src="./img/bgsvg/About us.svg" class="bg-img1">
        <div class="about-tag">Elevate your everyday wear</div>
    </section>


    <!-- Highlight Section with Card Swiper -->
    <section class="highlight line" id="highlight">
        <div class="container">
            <div class="section-title High-tit invert">
                <h2>Limited Drop</h2>
            </div>
            <!-- Swiper Slider -->
            <div class="swiper">
                <div class="swiper-wrapper">
                    <!-- Card 1 -->
                    <div class="swiper-slide" onclick="showProductPopup(1)">
                        <div class="trending-card">
                            <div class="card-img-container">
                                <img src="./img/ASSEET/Highlight/7.webp" class="card-img">
                            </div>
                        </div>
                    </div>
                    <!-- Card 2 -->
                    <div class="swiper-slide" onclick="showProductPopup(49)">
                        <div class="trending-card">
                            <div class="card-img-container">
                                <img src="./img/ASSEET/Highlight/8.webp" class="card-img">
                            </div>
                            <div class="card-content">
                            </div>
                        </div>
                    </div>

                    <!-- Card 3 -->
                    <div class="swiper-slide" onclick="showProductPopup(160)">
                        <div class="trending-card">
                            <div class="card-img-container">
                                <img src="./img/ASSEET/Highlight/9.webp" class="card-img">
                            </div>
                            <div class="card-content">
                            </div>

                        </div>
                    </div>

                    <div class="swiper-slide" onclick="showProductPopup(321)">
                        <div class="trending-card">
                            <div class="card-img-container">
                                <img src="./img/ASSEET/Highlight/7.webp" class="card-img">
                            </div>
                            <div class="card-content">
                            </div>

                        </div>
                    </div>

                    <div class="swiper-slide" onclick="showProductPopup(280)">
                        <div class="trending-card">
                            <div class="card-img-container">
                                <img src="./img/ASSEET/Highlight/8.webp" class="card-img">
                            </div>
                            <div class="card-content">
                            </div>

                        </div>
                    </div>


                    <div class="swiper-slide" onclick="showProductPopup(447)">
                        <div class="trending-card">
                            <div class="card-img-container">
                                <img src="./img/ASSEET/Highlight/9.webp" class="card-img">
                            </div>
                            <div class="card-content">
                            </div>

                        </div>
                    </div>


                </div>
                <!-- Navigation buttons -->
                <div class="swiper-button-next"></div>
                <div class="swiper-button-prev"></div>

                <!-- Pagination dots -->
                <div class="swiper-pagination"></div>

                <!-- Navigation buttons -->
                <div class="swiper-button-next"></div>
                <div class="swiper-button-prev"></div>

                <!-- Pagination dots -->
                <div class="swiper-pagination"></div>
            </div>
        </div>
    </section>


    <!-- Shop Category Section with Bento Box Display -->
    <section class="shop-category-index" id="shop">
        <div class="">
            <div class="category-header">
                <div class="section-title category-title">
                    <h2>Shop by Category</h2>
                    <img src="./img/bgsvg/Background category.svg" class="bg-img2">
                </div>
                <div class="category-dropdown">
                    <button class="dropdown-btn">
                        All Categories
                        <span class="dropdown-arrow">▼</span>
                    </button>
                    <div class="dropdown-menu">
                        <a href="./Products.html?category=Women casualwear" class="dropdown-item">Casualwear Women</a>
                        <a href="./Products.html?category=Women Sportwear" class="dropdown-item">Sportwear Women</a>
                        <a href="./Products.html?category=Men Sportswear" class="dropdown-item">Sportwear Man</a>
                        <a href="./Products.html?category=Caps &amp; Hats" class="dropdown-item">Caps & Hats</a>
                        <a href="./Products.html?category=Accessories" class="dropdown-item">Accessories</a>
                    </div>
                </div>
            </div>
    </section>

    <!-- product landing Section (generated) -->
    <div id="product-landing-container"></div>

    <script>
    // Safe call wrapper: queue popup request if shop-popup hasn't initialized yet
    function safeShowProductPopup(id){
      if(typeof showProductPopup === 'function'){
        showProductPopup(id);
      } else {
        window._pendingProductPopup = id;
      }
    }

    document.addEventListener('DOMContentLoaded', () => {
      if(window._pendingProductPopup && typeof showProductPopup === 'function'){
        showProductPopup(window._pendingProductPopup);
        window._pendingProductPopup = null;
      }
    });

    (function(){
      const categories = [
        { key: 'Women casualwear', title: 'Casualwear Women', id:'casualwear-slider', query:'Women%20casualwear'},
        { key: 'Women Sportwear', title: 'Sportwear Women', id:'Sportwear-slider', query:'Women%20Sportwear'},
        { key: 'Men Sportswear', title: 'Sportswear Men', id:'sportswearMan-slider', query:'Men%20Sportswear'},
        { key: 'Caps & Hats', title: 'Caps & Hats', id:'CapsHats-slider', query:'Caps%20%26%20Hats'},
        { key: 'Accessories', title: 'Accessories', id:'accessories-slider', query:'Accessories'}
      ];

      function fmtPrice(p){
        if(p === undefined || p === null) return '';
        return 'Rp ' + Math.round(p).toLocaleString();
      }

      fetch('./products.json')
        .then(r=>r.json())
        .then(products=>{
          const container = document.getElementById('product-landing-container');
          categories.forEach(cat=>{
            const items = products.filter(p=>p.category===cat.key).slice(0,8);
            if(items.length===0) return;
            const section = document.createElement('section');
            section.className = 'prod-land';
            section.innerHTML = `
              <div class="prod-land-tit"><h2>${cat.title}</h2></div>
              <div class="cards-slider-container" id="${cat.id}">
                <div class="cards-wrapper">
                  ${items.map(item=>`
                    <div class="product-card" onclick="safeShowProductPopup(${item.id})" data-id="${item.id}" role="button" tabindex="0">
                      <div class="card-image"><img src="${item.images && item.images[0] ? item.images[0] : 'https://via.placeholder.com/400x500?text=No+image'}" alt="${item.name}"></div>
                      <div class="card-content">
                        <h3>${item.name}</h3>
                        <p class="price">${fmtPrice(item.price)}</p>
                      </div>
                    </div>
                  `).join('')}
                </div>
                <button class="slider-arrow prev-arrow">‹</button>
                <button class="slider-arrow next-arrow">›</button>
              </div>
              <div class="slider-dots"></div>
              <a class="otw-cat" href="./Products.html?category=${cat.query}">See More Collection</a>
            `;
            container.appendChild(section);
          });

          // initialize any new sliders in case slider.js already ran
          function initNewSliders() {
            const nodes = document.querySelectorAll('.cards-slider-container[id]');
            nodes.forEach(containerEl=>{
              const id = containerEl.id;
              if(!id) return;
              window.sliders = window.sliders || {};
              if(window.sliders[id]) return;
              if(typeof CardSlider === 'function'){
                window.sliders[id] = new CardSlider(id);
                window.sliders[id].options.autoSlide = true;
                window.sliders[id].options.slideInterval = 4000;
                window.sliders[id].startAutoSlide();
              }
            });
          }
          setTimeout(initNewSliders, 100);
          window.addEventListener('load', initNewSliders);

          // Accessibility: open popup when focused card is activated via Enter or Space
          document.addEventListener('keydown', (e) => {
            const active = document.activeElement;
            if (!active || !active.classList) return;
            if (!active.classList.contains('product-card')) return;
            if (e.key === 'Enter' || e.key === ' ') {
              e.preventDefault();
              const id = active.dataset.id;
              if (id) showProductPopup(id);
            }
          });
        })
        .catch(err=>console.error('Failed to load products.json',err));
    })();
    </script>




    <script src="slider.js"></script>
    <script>
        // Enable autoplay for product sliders and set interval
        document.addEventListener('DOMContentLoaded', () => {
            if (window.sliders) {
                Object.values(window.sliders).forEach(s => {
                    s.options.autoSlide = true;
                    s.options.slideInterval = 4000;
                    s.startAutoSlide();
                });
            }
        });
    </script>

    <!--cat-btn-bot-->
    <section class="concat">
        <a href="./Products.html?category=Women casualwear" class="btn cat-btn-bot">casualwear Woman</a>
        <a href="./Products.html?category=Women Sportwear" class="btn cat-btn-bot">Sportwear Woman</a>
        <a href="./Products.html?category=Men Sportswear" class="btn cat-btn-bot">Sportswear Man</a>
        <a href="./Products.html?category=Caps & Hats" class="btn cat-btn-bot">Caps & Hats</a>
        <a href="./Products.html?category=Accessories" class="btn cat-btn-bot">Accessories</a>
    </section>



    <!-- Contact Us Section -->
    <section class="contact" id="contact">
        <div class="container">
            <div class="section-title invert line">
                <h2>Contact Us</h2>
            </div>
            <div class="contact-container">
                <div class="section-title section-title-center">
                    <h2>Visit Our Store</h2>
                </div>
                <div class="contact-maps">
                    <div class="map-item">
                        <a href="https://maps.app.goo.gl/tbqe4vxBNfmpuazx9">
                            <img src="./img/ASSEET/map.webp" alt="Contact Us" class="contact-img"></a>
                        <div class="map-description">
                            <h4>ATHNA STORE</h4>
                            <p>Jl. Pantai Berawa, Tibubeneng, Kec. Kuta Utara, Kabupaten Badung, Bali 80361</p>
                        </div>
                    </div>
                </div>
                <div class="contact-info">

                    <div class="contact-item">
                        <a href="https://www.instagram.com/athna1111" style="display: flex;
        align-items: flex-start;">
                            <div class="contact-icon">
                                <i class="fab fa-instagram" style="color: #C13584;"></i>
                            </div>
                            <div class="contact-details">
                                <h4>Instagram</h4>
                                <p>@athna1111<br>Follow us for latest trends</p>
                            </div>
                        </a>
                    </div>
                    <div class="contact-item">
                        <a href="https://wa.me/6287864853508" style="display: flex;
        align-items: flex-start;">
                            <div class="contact-icon">
                                <i class="fab fa-whatsapp" style="color:#128C7E;"></i>
                            </div>
                            <div class="contact-details">
                                <h4>WhatsApp</h4>
                                <p>+62 878‑6485‑3508 230<br>Chat to order our Products</p>
                            </div>
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer>
        <div class="container">
            <div class="copyright">
                <p>Copyright &copy; ATNHA</p>
            </div>
        </div>
    </footer>

    <!-- Event Popup Modal -->
    <div class="event-popup" id="event-popup">
        <div class="event-popup-content">
            <button class="event-popup-close" id="event-popup-close">
                <i class="fas fa-times"></i>
            </button>
            <div class="event-popup-image">
                <img src="./img/event/1.webp" alt="Special Event" class="event-img">
            </div>
            <!-- Removed all text content: event-popup-text div -->
        </div>
    </div>
    <!-- Event Popup privacy policy -->

    <div class="privacy-modal-overlay" id="privacy-modal-overlay"></div>

    <div class="privacy-modal-overlay" id="privacy-modal-overlay"></div>

    <!-- Add the overlay back since your CSS references it -->
    <div class="event-popup-overlay" id="event-popup-overlay"></div>

    <!-- Swiper JS -->
    <script src="https://cdn.jsdelivr.net/npm/swiper@9/swiper-bundle.min.js"></script>

    <script>
        // Mobile menu functionality
        const hamburgerMenu = document.getElementById('hamburger-menu');
        const mobileNav = document.getElementById('mobile-nav');
        const mobileNavClose = document.getElementById('mobile-nav-close');
        const overlay = document.getElementById('overlay');

        // Open mobile menu
        hamburgerMenu.addEventListener('click', () => {
            mobileNav.classList.add('active');
            overlay.classList.add('active');
            document.body.style.overflow = 'hidden'; // Prevent scrolling
        });

        // Close mobile menu
        function closeMobileMenu() {
            mobileNav.classList.remove('active');
            overlay.classList.remove('active');
            document.body.style.overflow = 'auto'; // Re-enable scrolling
        }

        mobileNavClose.addEventListener('click', closeMobileMenu);
        overlay.addEventListener('click', closeMobileMenu);

        // Close menu when clicking on a link
        const mobileNavLinks = document.querySelectorAll('.mobile-nav-links a');
        mobileNavLinks.forEach(link => {
            link.addEventListener('click', closeMobileMenu);
        });

        // Close menu with Escape key
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape' && mobileNav.classList.contains('active')) {
                closeMobileMenu();
            }
        });

        // Swiper initialization
        const swiper = new Swiper('.swiper', {
            // Navigation arrows
            navigation: {
                nextEl: '.swiper-button-next',
                prevEl: '.swiper-button-prev',
            },
            // Pagination dots
            pagination: {
                el: '.swiper-pagination',
                clickable: true,
            },
            // Default parameters
            slidesPerView: 1,
            loop: true,
            spaceBetween: 20,
            centeredSlides: true,
            // Responsive breakpoints
            breakpoints: {
                // when window width is >= 320px
                320: {
                    slidesPerView: 1,
                    spaceBetween: 15,
                    centeredSlides: true,
                },
                // when window width is >= 480px
                480: {
                    slidesPerView: 2,
                    spaceBetween: 20,
                    centeredSlides: true,
                },
                // when window width is >= 768px
                768: {
                    slidesPerView: 3,
                    spaceBetween: 25,
                    centeredSlides: true,
                },
                // when window width is >= 1024px
                1024: {
                    slidesPerView: 3,
                    spaceBetween: 30,
                    centeredSlides: true,
                }
            },
            // Optional: Enable autoplay
            autoplay: {
                delay: 4000,
                disableOnInteraction: false,
            },
        });

        //event popup.js
        // Get DOM elements
        const eventPopup = document.getElementById('event-popup');
        const eventPopupClose = document.getElementById('event-popup-close');
        const eventPopupOverlay = document.getElementById('event-popup-overlay'); // Added this

        // Remove the eventPopupCloseBtn reference since we removed that button
        // const eventPopupCloseBtn = document.getElementById('event-popup-close-btn');

        // Function to show event popup
        function showEventPopup() {
            // Show popup after 1 second delay
            setTimeout(() => {
                eventPopup.classList.add('active');
                eventPopupOverlay.classList.add('active');
                document.body.style.overflow = 'hidden'; // Prevent scrolling
            }, 2000);
        }

        // Function to close event popup
        function closeEventPopup() {
            eventPopup.classList.remove('active');
            eventPopupOverlay.classList.remove('active');
            document.body.style.overflow = 'auto'; // Re-enable scrolling

            // Store in localStorage that popup has been shown
            localStorage.setItem('eventPopupShown', 'true');
        }

        // Close popup when clicking close button or overlay
        eventPopupClose.addEventListener('click', closeEventPopup);
        eventPopupOverlay.addEventListener('click', closeEventPopup);

        // Close popup with Escape key
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape' && eventPopup.classList.contains('active')) {
                closeEventPopup();
            }
        });

        // Function to enable/disable popup
        function setPopupEnabled(isEnabled) {
            if (isEnabled) {
                // Enable popup - will show on page load
                localStorage.removeItem('eventPopupShown');
                localStorage.setItem('popupEnabled', 'true');
                console.log("Popup has been ENABLED");
            } else {
                // Disable popup - won't show on page load
                localStorage.setItem('eventPopupShown', 'true');
                localStorage.setItem('popupEnabled', 'false');
                console.log("Popup has been DISABLED");
            }
        }

        // Show popup on page load (check if it's enabled AND hasn't been shown before)
        window.addEventListener('load', () => {
            // Check if popup is enabled AND hasn't been shown before
            const popupEnabled = localStorage.getItem('popupEnabled') !== 'false';
            const popupShown = localStorage.getItem('eventPopupShown');

            if (popupEnabled && !popupShown) {
                showEventPopup();
            }
        });
        //on off pop    up
        //setPopupEnabled(true);
        setPopupEnabled(false);

    </script>
    <script src="shop-popup.js"></script>

</body>


</html>
